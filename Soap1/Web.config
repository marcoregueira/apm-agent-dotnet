<?xml version="1.0" encoding="utf-8"?>

<!--
  For more information on how to configure your ASP.NET application, please visit
  https://go.microsoft.com/fwlink/?LinkId=169433
  -->
<configuration>
	<configSections>
		<section name="nlog" type="NLog.Config.ConfigSectionHandler, NLog"/>
	</configSections>
	<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<targets>
			<target name="file" xsi:type="File" layout="${longdate} ${message} ${exception:format=tostring}" fileName="${basedir}/logs/${hostname}_${var:userid}_${shortdate}.log" autoFlush="true"/>
			<target name="console" xsi:type="ColoredConsole" layout="${message}"/>
			<target name="apm" xsi:type="apm" layout="${message}${onexception:${newline}EXCEPTION:${newline}${exception:format=tostring}}"/>
		</targets>
		<rules>
			<logger name="*" minlevel="Debug" writeTo="file"/>
			<logger name="*" minlevel="Debug" writeTo="console"/>
			<logger name="*" minlevel="Debug" writeTo="apm"/>
		</rules>
	</nlog>
	<system.web>
		<compilation debug="true" targetFramework="4.6.1"/>
		<httpRuntime targetFramework="4.6.1"/>
	</system.web>
	<appSettings>
		<add key="LogFile_useApm" value="TRUE"/>
		<add key="LogFile_useNLog" value="TRUE"/>

		<add key="ELASTIC_APM_SERVER_URLS" value="http://localhost:5000"/>
		<add key="ELASTIC_APM_SERVICE_NAME" value="Wms"/>
		<add key="ELASTIC_APM_SPAN_FRAMES_MIN_DURATION" value="400"/>
		<add key="ELASTIC_APM_METRICS_INTERVAL" value="1"/>
	</appSettings>
	<system.codedom>
		<compilers>
			<compiler language="c#;cs;csharp" extension=".cs"
			  type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=2.0.1.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
			  warningLevel="4" compilerOptions="/langversion:default /nowarn:1659;1699;1701"/>
			<compiler language="vb;vbs;visualbasic;vbscript" extension=".vb"
			  type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=2.0.1.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
			  warningLevel="4" compilerOptions="/langversion:default /nowarn:41008 /define:_MYTYPE=\&quot;Web\&quot; /optionInfer+"/>
		</compilers>
	</system.codedom>

</configuration>
